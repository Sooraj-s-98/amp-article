"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _connect = _interopRequireDefault(require("./connect"));

var _http = require("http");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Convenience function to create an HTTP server and automatically connect to it
 * and start listening. The first argument is an app, but the rest are whatever
 * the http server's `listen` function accepts. (e.g. port, callback, etc.)
 * @param {App} app App instance.
 * @returns {Server} HTTP server instance.
 */
const listen = (app, ...rest) => {
  const server = (0, _http.createServer)();
  (0, _connect.default)(app, server); // TODO: FIXME: Make flow happy with this.
  // $ExpectError

  server.listen(...rest);
  return server;
};

var _default = listen;
exports.default = _default;
//# sourceMappingURL=listen.js.map