{"version":3,"sources":["../src/id.js"],"names":["fn","request","_req","id","uuid","v1"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAIA;;;;;;;eAOgBA,EAAD,IACb,oBAAMC,gBAAN,EAAgBC,IAAD,IAAU;AACvB;AACA,QAAMC,EAAE,GAAGC,cAAKC,EAAL,EAAX;;AACA,SAAO,sBACL,qBAAO,YAAP,EAAqBF,EAArB,CADK,EAELH,EAAE,CAACG,EAAD,CAFG,CAAP;AAID,CAPD,C","sourcesContent":["// @flow\nimport uuid from 'uuid';\nimport request from './request';\nimport compose from './compose';\nimport apply from './apply';\nimport header from './header';\n\nimport type {App} from './types';\n\n/**\n * Attach what is essentially a \"transaction id\" for being able to correlate\n * the request with other events; it can be referenced by other modules, other\n * logging systems or even the front-end client.\n * @param {Function} fn id -> App\n * @returns {App} App instance.\n */\nexport default (fn: (string) => App) =>\n  apply(request, (_req) => {\n    // See: http://stackoverflow.com/a/26386900\n    const id = uuid.v1();\n    return compose(\n      header('Request-Id', id),\n      fn(id),\n    );\n  });\n"],"file":"id.js"}