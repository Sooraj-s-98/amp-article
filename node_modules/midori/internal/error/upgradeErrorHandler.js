"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

/* eslint-disable no-console */

/* global console process */
const upgradeErrorHandler = (err, req, socket, _head) => {
  // $ExpectError
  if (socket.ended || !socket.writable) {
    console.error('Error occured after response already delivered.');
    console.error('This probably indicates a problem elsewhere.');
    console.error(err);
    return;
  }

  socket.end('HTTP/1.1 500 Internal Server Error\r\n' + 'Connection: Close\r\n' + '\r\n');
};

var _default = upgradeErrorHandler;
exports.default = _default;
//# sourceMappingURL=upgradeErrorHandler.js.map